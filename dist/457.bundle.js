"use strict";(self.webpackChunkblacksilverufa=self.webpackChunkblacksilverufa||[]).push([[457],{70160:(e,t,r)=>{r.d(t,{F:()=>c}),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601),r(21703),r(47941),r(57327),r(45003),r(54747),r(49337);var n=r(67294);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t,r,a=(t=(0,n.useState)(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1];return[l,(0,n.useCallback)((function(e){return c((function(t){return o(o({},t),e)}),[])}))]}},46877:(e,t,r)=>{r.r(t),r.d(t,{SearchPage:()=>xe,default:()=>xe}),r(92222),r(69826),r(41539),r(74916),r(64765),r(69600),r(57327),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(77601),r(21703);var n=r(67294),a=r(35755),o=r(34051),l=r(31555),i=r(75613),c=r.n(i),u=(r(12942),r(7858)),s=r(70160),f=(r(47941),r(45003),r(54747),r(49337),r(59242)),m=r.n(f),y=r(18446),d=r.n(y);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t){var r=(0,a.Wc)(e,t);return{encode:m()((function(e){return d()(e,t)?void 0:e}),r.encode),decode:r.decode}},O=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,a.Kx)(e),2),r=t[0],o=t[1],l=(0,n.useCallback)((function(e){o(g(g({},r),e))}));return[r,l]},E=r(9756),j=r(46693),w=r(5770),S=(r(85827),r(26833),r(21249),r(69720),r(45697)),Z=r.n(S),C=r(90677),D=r(2086),P=r(77104),A=r(62318),k=r(51436),x=(r(19601),r(42809)),I=r(64389),q="year",N=["month","year","decade"],R=["segments","games"],T=["scale"];function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(this,arguments)}var $=function(e){var t=e.scale,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,T);return n.createElement(C.Z.Control,M({as:I.Z,minDetail:"decade",locale:"ru-RU",maxDetail:t,showLeadingZeros:!0},r))};$.propTypes={scale:Z().oneOf(N).isRequired,value:Z().instanceOf(Date),minDate:Z().instanceOf(Date).isRequired,maxDate:Z().instanceOf(Date).isRequired,onChange:Z().func.isRequired,tileClassName:Z().func,tileContent:Z().func},$.defaultProps={value:null,tileClassName:null,tileContent:null};const U=$;var B=["from","to","minDate","onChange"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}var z=function(e){var t=e.from,r=e.to,a=e.minDate,o=e.onChange,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,B);return n.createElement(n.Fragment,null,n.createElement(U,F({key:"from",value:t,minDate:a,onChange:function(e){return o({from:e,to:r})}},l)),n.createElement(U,F({key:"to",value:r,minDate:t||a,onChange:function(e){return o({from:t,to:e})}},l)))};z.propTypes={from:Z().instanceOf(Date),to:Z().instanceOf(Date),minDate:Z().instanceOf(Date),onChange:Z().func.isRequired},z.defaultProps={from:void 0,to:void 0,minDate:null};const L=z;var V=r(87011),G=["value","segments","onChange"];function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(e,t){if(!e)return[];var r=new Date(e);switch(t){case"month":V.Z.reset(r,"day");break;case"year":V.Z.reset(r,"month");break;case"decade":V.Z.reset(r,"year");break;default:throw Error("Unexpected scale: ".concat(t))}var n=new Date(r);switch(t){case"month":V.Z.advance(n,{days:1});break;case"year":V.Z.advance(n,{months:1});break;case"decade":V.Z.advance(n,{years:1});break;default:throw Error("Unexpected scale: ".concat(t))}return V.Z.rewind(n,{seconds:1}),[r,n]},Q=function(e){var t=e.segments,r=e.date,n=e.view;return t.count({date:{$between:H(r,n)}})},Y=function(e){var t=e.value,r=t.from,a=t.to,o=t.scale,l=e.segments,i=e.onChange,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,G),s=new Date(l.min("date")),f=new Date(l.max("date")),m={scale:o,minDate:s,maxDate:f,tileContent:function(e){return function(e){var t=e.date,r=e.view,a=e.segments;if(t>e.maxDate)return null;if("month"===r)return null;var o=Q({segments:a,date:t,view:r});return n.createElement("div",null,(0,u.SM)("{n} стрим{n#,а,ов}",{n:o}))}(J(J({},e),{},{segments:l,maxDate:f}))},tileDisabled:function(e){var t=e.date,r=e.view;return 0===Q({segments:l,date:t,view:r})}};return n.createElement(A.Z,c,n.createElement(x.Z,null,n.createElement(x.Z.Toggle,{variant:"dark"},j.g.scales[o]),n.createElement(x.Z.Menu,null,N.map((function(e){return n.createElement(x.Z.Item,{key:e,active:o===e,onClick:function(){return i({from:void 0,to:void 0,scale:e})}},j.g.scales[e])})))),"month"===o?n.createElement(L,K({from:r,to:a},m,{onChange:function(e){i(e)}})):n.createElement(U,K({value:r},m,{onChange:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(H(e,o),2),r=t[0],n=t[1];i({from:r,to:n})}})),r&&n.createElement(P.Z,{variant:"danger",onClick:function(){i({from:void 0,to:void 0,scale:q})}},"x"))};Y.propTypes={value:Z().shape({scale:Z().oneOf(N),from:Z().instanceOf(Date),to:Z().instanceOf(Date)}).isRequired,segments:Z().object.isRequired,onChange:Z().func.isRequired};const ee=Y;var te=r(49432);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oe,le={segments:["date"],games:["date","name","stream_count"]},ie={desc:k.l6M,asc:k.fXF},ce=function(e){var t=e.mode,r=e.filters,a=e.sorting,o=e.segments,l=e.categories,i=e.onModeChange,c=e.onFiltersChange,u=e.onSortingChange,s=a.isDesc?"desc":"asc",f=(0,n.useMemo)((function(){return function(e){return Object.values(e).filter((function(e){return!1!==e.search})).reduce((function(e,t){return e[t.id]=t.name,e}),{any:j.g.categoryAny})}(l.data)}),[l]),m={scale:r.scale,from:r.from,to:r.to};return n.createElement(n.Fragment,null,n.createElement("div",{className:"content border-end"},n.createElement(C.Z.Group,{className:"d-flex align-items-baseline"},n.createElement(C.Z.Label,null,"Искать:"),n.createElement(D.Z,{className:"ms-2 flex-1-0-0"},R.map((function(e){return n.createElement(P.Z,{key:e,size:"sm",variant:t===e?"primary":"dark",onClick:function(){i(e),u({sortBy:"date"})}},j.g.modes[e])})))),n.createElement("div",{className:"sidebar-header"},"Фильтры"),"segments"===t&&n.createElement(ee,{value:m,segments:o,onChange:c}),"segments"===t&&n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Источник"),n.createElement(C.Z.Select,{value:r.source,onChange:function(e){var t=e.target;return c({source:t.value})}},n.createElement("option",{value:"any"},"Любой"),Object.entries(j.g.sources).map((function(e){var t=re(e,2),r=t[0],a=t[1];return n.createElement("option",{key:r,value:r},a)})))),"games"===t&&n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Категория"),n.createElement(C.Z.Select,{value:r.category,onChange:function(e){var t=e.target;return c({category:t.value})}},Object.entries(f).map((function(e){var t=re(e,2),r=t[0],a=t[1];return n.createElement("option",{key:r,value:r},a)})))),n.createElement("div",{className:"sidebar-header"},"Результаты"),n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Сортировка"),n.createElement(C.Z.Select,{value:a.sortBy,onChange:function(e){var t=e.target;return u({sortBy:t.value})}},le[t].map((function(e){return n.createElement("option",{key:e,value:e},j.g.sortModes[e])}))),n.createElement(P.Z,{variant:"dark",onClick:function(){return u({isDesc:!a.isDesc})}},n.createElement(te.e,{icon:ie[s]}))),n.createElement(C.Z.Group,{className:"d-flex align-items-baseline"},n.createElement(C.Z.Label,null,"Количество:"),n.createElement(D.Z,{className:"ms-2 flex-1-0-0"},[10,25,50,100].map((function(e){return n.createElement(P.Z,{key:e,size:"sm",variant:e===a.limit?"primary":"dark",onClick:function(){return u({limit:e})}},e)}))))),n.createElement("div",{className:"collapsed-content"},n.createElement("div",{className:"sidebar-header"},"Фильтры"),n.createElement("div",{className:"sidebar-header"},"Результаты")))};ce.propTypes={mode:Z().string.isRequired,filters:Z().shape({q:Z().string,category:Z().string,scale:Z().oneOf(N),from:Z().instanceOf(Date),to:Z().instanceOf(Date),source:Z().oneOf(["any"].concat((oe=["youtube","direct"],function(e){if(Array.isArray(e))return ae(e)}(oe)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(oe)||ne(oe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}).isRequired,sorting:Z().shape({sortBy:Z().string,isDesc:Z().bool,limit:Z().number}).isRequired,segments:Z().object,categories:Z().object,onModeChange:Z().func.isRequired,onFiltersChange:Z().func.isRequired,onSortingChange:Z().func.isRequired},ce.defaultProps={segments:null,categories:null};const ue=ce;var se=r(73727),fe=r(16714),me=r(44574),ye=r(93724),de=r(52974),pe={segments:function(e){return e.thumbnail},games:function(e){return e.segments[0].thumbnail}},ge={segments:ye.on,games:function(e){return 1===e.segments.length?(0,ye.on)(e.segments[0]):(0,ye.G7)(e.original)}},be=function(e){var t=e.mode,r=e.items,a=e.limit,i=e.page,c=e.onPageChange,u=pe[t],s=ge[t],f=Math.ceil(r.length/a),m=i*a,y=m+a;return n.createElement(n.Fragment,null,n.createElement(fe.Z,{variant:"flush",className:"py-3"},r.slice(m,y).map((function(e){return n.createElement(fe.Z.Item,{key:e},n.createElement(o.Z,null,n.createElement(l.Z,{style:{flex:"0 0 240px"}},n.createElement(de.E,{className:"me-3",width:"100%",src:u(e),alt:"thumbnail"})),n.createElement(l.Z,null,n.createElement("div",null,n.createElement(se.rU,{to:e.url},e.name)),n.createElement("div",null,s(e)))))}))),f>1&&n.createElement(o.Z,{key:"navigator"},n.createElement(l.Z,{className:"d-flex justify-content-center"},n.createElement(me.Z,{value:i,totalPages:f,atBeginEnd:1,aroundCurrent:2,showFirstLast:!1,onChange:function(e){var t=e.target;return c(t.value)}}))))};be.propTypes={items:Z().array,limit:Z().number,mode:Z().oneOf(R).isRequired,page:Z().number.isRequired,onPageChange:Z().func.isRequired},be.defaultProps={limit:10,items:[]};const ve=be;var he=r(68903);function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(26699);var Ee=["NumpadEnter","Enter"],je=function(e){var t=e.initValue,r=e.onSubmit,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(t),2),o=a[0],l=a[1];return(0,n.useEffect)((function(){t!==o&&l(t)}),[t]),n.createElement(A.Z,null,n.createElement(C.Z.Control,{type:"text",value:o,placeholder:j.g.queryPlaceholder,onChange:function(e){var t=e.target;return l(t.value)},onKeyPress:function(e){Ee.includes(e.key)&&(e.preventDefault(),r(o))}}),o.length>0&&n.createElement(P.Z,{variant:"danger",onClick:function(){l(""),r("")}},n.createElement(te.e,{icon:k.NBC})),n.createElement(P.Z,{variant:"primary",onClick:function(){return r(o)}},j.g.search))};je.propTypes={initValue:Z().string,onSubmit:Z().func.isRequired},je.defaultProps={initValue:""};const we=je;function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||Ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var De=function(e){var t,r,n,a,o,l,i,c=e.data,s=c.segments,f=c.index,m=e.mode,y=e.filters,d=e.sorting,p={};switch(m){case"segments":t=s.chain(),p.games={$size:{$gt:0}},y.from&&(p.date=(n=(r=y).from,(a=r.to)?{$between:[n,a]}:{$dteq:n})),"any"!==y.source&&(p[y.source]={$exists:!0});break;case"games":t=f.chain(),"any"!==y.category&&(p["category.id"]=y.category);break;default:return[]}return t=t.find(p),(0,u.wS)(y.q).length>0&&(t=t.search(y.q)),(t=t.compoundsort((l=(o=d).sortBy,i=o.isDesc,[].concat(function(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}("stream_count"===l?[["streams",i]]:"name"===l?[["name",i]]:[]),[["date",i],["segment",i]])))).data()},Pe={q:h(a.Zp,""),category:h(a.Zp,"any"),scale:h(a.Zp,q),from:a.Cx,to:a.Cx,source:h(a.Zp,"any")},Ae={sortBy:h(a.Zp,"date"),isDesc:h(a.dJ,!0),limit:h(a.yz,25)},ke={mode:null,items:[]};const xe=function(){var e=Se((0,E.a)(),2),t=e[0],r=e[1],i=Se((0,a.Wd)("mode",h(a.Zp,"segments")),2),u=i[0],f=i[1],m=Se((0,a.Wd)("page",h(a.yz,1)),2),y=m[0],d=m[1],p=Se(O(Pe),2),g=p[0],b=p[1],v=Se(O(Ae),2),S=v[0],Z=v[1],C=Se((0,s.F)(ke),2),D=C[0],P=C[1],A=(0,he.Vt)([!0,!0,!0,!1]);(0,n.useEffect)((function(){c()(0,{cancelOnUserAction:!1,elementToScroll:document.getElementById("app")})}),[y]),(0,n.useEffect)((function(){var e;r&&(e=De({mode:u,data:t,filters:g,sorting:S}),1!==y&&d(1),P({mode:u,items:e}))}),[t,u,g,S]);var k=["search-control",A?"collapsed":"border-start"].filter(Boolean).join(" ");return n.createElement(w.A,{isLoading:!r,title:j.g.title,fluid:"lg"},n.createElement(o.Z,{className:"search"},n.createElement(l.Z,{className:k},n.createElement(ue,{mode:u,filters:g,sorting:S,segments:t.segments,categories:t.categories,onModeChange:f,onFiltersChange:b,onSortingChange:Z})),n.createElement(l.Z,{className:"mt-3"},n.createElement(o.Z,null,n.createElement(l.Z,{className:"px-4"},n.createElement(we,{initValue:g.q,onSubmit:function(e){return b({q:e})}}))),n.createElement(o.Z,null,n.createElement(l.Z,null,!!D.mode&&n.createElement(ve,{mode:D.mode,items:D.items,limit:S.limit,page:y-1,onPageChange:function(e){return d(e+1)}}))))))}}}]);
//# sourceMappingURL=457.bundle.js.map