"use strict";(self.webpackChunkblacksilverufa=self.webpackChunkblacksilverufa||[]).push([[457],{68903:(e,t,r)=>{r.d(t,{Vt:()=>o});var n=r(1852),a=function(){return Object.values({xs:(0,n.useMediaQuery)({maxWidth:575}),sm:(0,n.useMediaQuery)({minWidth:576,maxWidth:767}),md:(0,n.useMediaQuery)({minWidth:768,maxWidth:991}),lg:(0,n.useMediaQuery)({minWidth:992,maxWidth:1199}),xl:(0,n.useMediaQuery)({minWidth:1200,maxWidth:1399}),xxl:(0,n.useMediaQuery)({minWidth:1400})}).indexOf(!0)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["xs","sm","md","lg","xl","xxl"];return e[Math.min(e.length-1,a())]}},70160:(e,t,r)=>{r.d(t,{F:()=>c});var n=r(67294);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t,r,a=(t=(0,n.useState)(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return[i,(0,n.useCallback)((function(e){return c((function(t){return o(o({},t),e)}),[])}))]}},46877:(e,t,r)=>{r.r(t),r.d(t,{SearchPage:()=>Ce,default:()=>Ce});var n=r(67294),a=r(35755),o=r(34051),i=r(31555),l=r(75613),c=r.n(l),u=r(12942),s=r(52405),f=r(70160),m=r(59242),y=r.n(m),d=r(18446),g=r.n(d);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e,t){var r=(0,a.Wc)(e,t);return{encode:y()((function(e){return g()(e,t)?void 0:e}),r.encode),decode:r.decode}},E=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,a.Kx)(e),2),r=t[0],o=t[1],i=(0,n.useCallback)((function(e){o(b(b({},r),e))}));return[r,i]},j=r(9756),w=r(46693),S=r(5770),Z=r(45697),C=r.n(Z),x=r(90677),D=r(2086),P=r(35005),A=r(62318),k=r(51436),q=r(42809),I=r(64389),M="year",N=["month","year","decade"],R=["segments","games"];function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}var W=function(e){var t=e.scale,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["scale"]);return n.createElement(x.Z.Control,T({as:I.Z,minDetail:"decade",locale:"ru-RU",maxDetail:t,showLeadingZeros:!0},r))};W.propTypes={scale:C().oneOf(N).isRequired,value:C().instanceOf(Date),minDate:C().instanceOf(Date).isRequired,maxDate:C().instanceOf(Date).isRequired,onChange:C().func.isRequired,tileClassName:C().func,tileContent:C().func},W.defaultProps={value:null,tileClassName:null,tileContent:null};const $=W;function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}var F=function(e){var t=e.from,r=e.to,a=e.minDate,o=e.onChange,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["from","to","minDate","onChange"]);return n.createElement(n.Fragment,null,n.createElement($,B({key:"from",value:t,minDate:a,onChange:function(e){return o({from:e,to:r})}},i)),n.createElement($,B({key:"to",value:r,minDate:t||a,onChange:function(e){return o({from:t,to:e})}},i)))};F.propTypes={from:C().instanceOf(Date),to:C().instanceOf(Date),minDate:C().instanceOf(Date),onChange:C().func.isRequired},F.defaultProps={from:void 0,to:void 0,minDate:null};const U=F;var Q=r(87011),V=r(7858);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(){return J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}var X=function(e,t){if(!e)return[];var r=new Date(e);"year"===t?Q.Z.reset(r,"month"):"decade"===t&&Q.Z.reset(r,"year");var n=new Date(r);return"year"===t?Q.Z.advance(n,{months:1}):"decade"===t&&Q.Z.advance(n,{years:1}),Q.Z.rewind(n,{days:1}),[r,n]},_=function(e){var t=e.value,r=t.from,a=t.to,o=t.scale,i=e.segments,l=e.onChange,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["value","segments","onChange"]),u=new Date(i.min("date")),s=new Date(i.max("date")),f={scale:o,minDate:u,maxDate:s};return n.createElement(A.Z,c,n.createElement(q.Z,null,n.createElement(q.Z.Toggle,{variant:"dark"},w.g.scales[o]),n.createElement(q.Z.Menu,null,N.map((function(e){return n.createElement(q.Z.Item,{key:e,active:o===e,onClick:function(){return l({from:void 0,to:void 0,scale:e})}},w.g.scales[e])})))),"month"===o?n.createElement(U,J({from:r,to:a},f,{tileDisabled:function(e){var t=e.date;return 0===i.count({date:{$dteq:t}})},onChange:function(e){l(e)}})):n.createElement($,J({value:r},f,{tileContent:function(e){return function(e){var t=e.date,r=e.view,a=e.segments;if(t>e.maxDate)return null;var o=X(t,r),i=a.count({date:{$between:o}});return n.createElement("div",null,(0,V.S)("{n} стрим{n#,а,ов}",{n:i}))}(G(G({},e),{},{segments:i,maxDate:s}))},onChange:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(X(e,o),2),r=t[0],n=t[1];l({from:r,to:n})}})),r&&n.createElement(P.Z,{variant:"danger",onClick:function(){l({from:void 0,to:void 0,scale:M})}},"x"))};_.propTypes={value:C().shape({scale:C().oneOf(N),from:C().instanceOf(Date),to:C().instanceOf(Date)}).isRequired,segments:C().object.isRequired,onChange:C().func.isRequired};const H=_;var Y=r(49432);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne,ae={segments:["date"],games:["date","stream_count"]},oe={desc:k.fXF,asc:k.l6M},ie=function(e){var t=e.mode,r=e.filters,a=e.sorting,o=e.segments,i=e.categories,l=e.onModeChange,c=e.onFiltersChange,u=e.onSortingChange,s=a.isDesc?"desc":"asc",f=(0,n.useMemo)((function(){return function(e){return Object.values(e).filter((function(e){return!1!==e.search})).reduce((function(e,t){return e[t.id]=t.name,e}),{any:w.g.categoryAny})}(i.data)}),[i]),m={scale:r.scale,from:r.from,to:r.to};return n.createElement(n.Fragment,null,n.createElement("div",{className:"content border-end"},n.createElement(x.Z.Group,{className:"d-flex align-items-baseline"},n.createElement(x.Z.Label,null,"Искать:"),n.createElement(D.Z,{className:"ms-2 flex-1-0-0"},R.map((function(e){return n.createElement(P.Z,{key:e,size:"sm",variant:t===e?"primary":"dark",onClick:function(){l(e),u({sortBy:"date"})}},w.g.modes[e])})))),n.createElement("div",{className:"sidebar-header"},"Фильтры"),"segments"===t&&n.createElement(H,{value:m,segments:o,onChange:c}),"segments"===t&&n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Источник"),n.createElement(x.Z.Select,{value:r.source,onChange:function(e){var t=e.target;return c({source:t.value})}},n.createElement("option",{value:"any"},"Любой"),Object.entries(w.g.sources).map((function(e){var t=ee(e,2),r=t[0],a=t[1];return n.createElement("option",{key:r,value:r},a)})))),"games"===t&&n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Категория"),n.createElement(x.Z.Select,{value:r.category,onChange:function(e){var t=e.target;return c({category:t.value})}},Object.entries(f).map((function(e){var t=ee(e,2),r=t[0],a=t[1];return n.createElement("option",{key:r,value:r},a)})))),n.createElement("div",{className:"sidebar-header"},"Результаты"),n.createElement(A.Z,null,n.createElement(A.Z.Text,null,"Сортировка"),n.createElement(x.Z.Select,{value:a.sortBy,onChange:function(e){var t=e.target;return u({sortBy:t.value})}},ae[t].map((function(e){return n.createElement("option",{key:e,value:e},w.g.sortModes[e])}))),n.createElement(P.Z,{variant:"dark",onClick:function(){return u({isDesc:!a.isDesc})}},n.createElement(Y.e,{icon:oe[s]}))),n.createElement(x.Z.Group,{className:"d-flex align-items-baseline"},n.createElement(x.Z.Label,null,"Количество:"),n.createElement(D.Z,{className:"ms-2 flex-1-0-0"},[10,25,50].map((function(e){return n.createElement(P.Z,{key:e,size:"sm",variant:e===a.limit?"primary":"dark",onClick:function(){return u({limit:e})}},e)}))))),n.createElement("div",{className:"collapsed-content"},n.createElement("div",{className:"sidebar-header"},"Фильтры"),n.createElement("div",{className:"sidebar-header"},"Результаты")))};ie.propTypes={mode:C().string.isRequired,filters:C().shape({q:C().string,category:C().string,scale:C().oneOf(N),from:C().instanceOf(Date),to:C().instanceOf(Date),source:C().oneOf(["any"].concat((ne=["youtube","direct"],function(e){if(Array.isArray(e))return re(e)}(ne)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(ne)||te(ne)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}).isRequired,sorting:C().shape({sortBy:C().string,isDesc:C().bool,limit:C().number}).isRequired,segments:C().object,categories:C().object,onModeChange:C().func.isRequired,onFiltersChange:C().func.isRequired,onSortingChange:C().func.isRequired},ie.defaultProps={segments:null,categories:null};const le=ie;var ce=r(73727),ue=r(16714),se=r(44574),fe=r(93724),me={segments:function(e){return e.thumbnail},games:function(e){return e.segments[0].thumbnail}},ye={segments:fe.on,games:function(e){return"list"!==e.original.type?(0,fe.G7)(e.original):(0,fe.on)(e.segments[0])}},de=function(e){var t=e.mode,r=e.items,a=e.limit,l=e.page,c=e.onPageChange,u=me[t],s=ye[t],f=Math.ceil(r.length/a),m=l*a,y=m+a;return n.createElement(n.Fragment,null,n.createElement(ue.Z,{variant:"flush",className:"py-3"},r.slice(m,y).map((function(e){return n.createElement(ue.Z.Item,{key:e.name},n.createElement(o.Z,null,n.createElement(i.Z,{style:{flex:"0 0 240px"}},n.createElement("img",{className:"me-3",width:"100%",src:u(e),alt:"thumbnail"})),n.createElement(i.Z,null,n.createElement("div",null,n.createElement(ce.rU,{to:e.url},e.name)),n.createElement("div",null,s(e)))))}))),f>1&&n.createElement(o.Z,{key:"navigator"},n.createElement(i.Z,{className:"d-flex justify-content-center"},n.createElement(se.Z,{value:l,totalPages:f,atBeginEnd:1,aroundCurrent:2,showFirstLast:!1,onChange:function(e){var t=e.target;return c(t.value)}}))))};de.propTypes={items:C().array,limit:C().number,mode:C().oneOf(R).isRequired,page:C().number.isRequired,onPageChange:C().func.isRequired},de.defaultProps={limit:10,items:[]};const ge=de;var pe=r(68903);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ve=["NumpadEnter","Enter"],he=function(e){var t=e.initValue,r=e.onSubmit,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(t),2),o=a[0],i=a[1];return(0,n.useEffect)((function(){t!==o&&i(t)}),[t]),n.createElement(A.Z,null,n.createElement(x.Z.Control,{type:"text",value:o,placeholder:w.g.queryPlaceholder,onChange:function(e){var t=e.target;return i(t.value)},onKeyPress:function(e){ve.includes(e.key)&&(e.preventDefault(),r(o))}}),o.length>0&&n.createElement(P.Z,{variant:"danger",onClick:function(){i(""),r("")}},n.createElement(Y.e,{icon:k.NBC})),n.createElement(P.Z,{variant:"primary",onClick:function(){return r(o)}},w.g.search))};he.propTypes={initValue:C().string,onSubmit:C().func.isRequired},he.defaultProps={initValue:""};const Oe=he;function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var we={q:O(a.Zp,""),category:O(a.Zp,"any"),scale:O(a.Zp,M),from:a.Cx,to:a.Cx,source:O(a.Zp,"any")},Se={sortBy:O(a.Zp,"date"),isDesc:O(a.dJ,!0),limit:O(a.yz,10)},Ze={mode:null,items:[]};const Ce=function(){var e=Ee((0,j.a)(),2),t=e[0],r=e[1],l=Ee((0,a.Wd)("mode",O(a.Zp,"segments")),2),m=l[0],y=l[1],d=Ee((0,a.Wd)("page",O(a.yz,1)),2),g=d[0],p=d[1],b=Ee(E(we),2),v=b[0],h=b[1],Z=Ee(E(Se),2),C=Z[0],x=Z[1],D=Ee((0,f.F)(Ze),2),P=D[0],A=D[1],k=(0,pe.Vt)([!0,!0,!0,!1]);(0,n.useEffect)((function(){c()(0,{cancelOnUserAction:!1,elementToScroll:document.getElementById("app")})}),[g]),(0,n.useEffect)((function(){r&&function(e){null==e||e.preventDefault();var r=function(e){var t,r,n,a,o,i,l,c=e.data,u=c.segments,f=c.index,m=e.filters,y=e.sorting,d={};switch(e.mode){case"segments":t=u.chain(),d.games={$size:{$gt:0}},m.from&&(d.date=(n=(r=m).from,(a=r.to)?{$between:[n,a]}:{$dteq:n})),"any"!==m.source&&(d[m.source]={$exists:!0});break;case"games":t=f.chain(),"any"!==m.category&&(d["category.id"]=m.category);break;default:return[]}var g=(t=t.find(d).compoundsort((i=(o=y).sortBy,l=o.isDesc,"date"===i?[["date",l],["segment",l]]:[["streams",l],["date",l],["segment",l]]))).data();return(0,s.w)(m.q).length>0&&(g=(0,s.Z)(m.q,g,(function(e){return e.name}))),g}({mode:m,data:t,filters:v,sorting:C});if(p(1),A({mode:m,items:r}),e){if(!(0,s.w)(v.q).length)return;u.Z.trackSiteSearch({keyword:v.q,category:m,count:r.length})}}()}),[t,m,v,C]);var q=["search-control",k?"collapsed":"border-start"].filter(Boolean).join(" ");return n.createElement(S.A,{isLoading:!r,title:w.g.title,fluid:"lg"},n.createElement(o.Z,{className:"search"},n.createElement(i.Z,{className:q},n.createElement(le,{mode:m,filters:v,sorting:C,segments:t.segments,categories:t.categories,onModeChange:y,onFiltersChange:h,onSortingChange:x})),n.createElement(i.Z,{className:"mt-3"},n.createElement(o.Z,null,n.createElement(i.Z,{className:"px-4"},n.createElement(Oe,{initValue:v.q,onSubmit:function(e){return h({q:e})}}))),n.createElement(o.Z,null,n.createElement(i.Z,null,!!P.mode&&n.createElement(ge,{mode:P.mode,items:P.items,limit:C.limit,page:g-1,onPageChange:function(e){return p(e+1)}}))))))}}}]);